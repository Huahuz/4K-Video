<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.video.mapper.VideoPictureMapper">
  <resultMap id="BaseResultMap" type="com.video.entity.VideoPicture">
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="video_id" jdbcType="BIGINT" property="videoId" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="url" jdbcType="VARCHAR" property="url" />
    <result column="thumbnails_url" jdbcType="VARCHAR" property="thumbnailsUrl" />
    <result column="order_no" jdbcType="INTEGER" property="orderNo" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="update_time" jdbcType="TIMESTAMP" property="updateTime" />
  </resultMap>
  <sql id="Base_Column_List">
    id, video_id, name, url, thumbnails_url, order_no, create_time, update_time
  </sql>

  <insert id="add" parameterType="com.video.entity.VideoPicture">
    insert into video_picture(video_id, name, url, thumbnails_url, order_no, create_time, update_time)
    values(dto.videoId, dto.name, dto.url, dto.thumbnailsUrl, dto.orderNo, dto.createTime, dto.updateTime)
  </insert>

  <update id="update">
    update video_picture
    set video_id=#{dto.videoId}, name=#{dto.name}, url=#{dto.url}, thumbnails_url=#{dto.thumbnailsUrl},
        order_no=#{dto.orderNo}, create_time=#{dto.createTime}, update_time=#{dto.updateTime}
    where id=#{id}
  </update>


  <select id="list">
    select
        <include refid="Base_Column_List"></include>
    from video_picture
    <where>
    <if test="dto.videoId!='null' and dto.videoId!=''">
      and video_id=#{dto.videoId}
    </if>
    <if test="dto.name!='null' and dto.name!=''">
      and name=#{dto.name}
    </if>
    <if test="dto.url!='null' and dto.url!=''">
      and url=#{dto.url}
    </if>
    <if test="dto.thumbnails_url!='null' and dto.thumbnails_url!=''">
      and thumbnails_url=#{dto.thumbnails_url}
    </if>
    <if test="dto.createTime!='null' and dto.createTime!=''">
      and create_time=#{dto.createTime}
    </if>
    <if test="dto.updateTime!='null' and dto.updateTime!=''">
      and update_time=#{dto.updateTime}
    </if>


    </where>
  </select>


  <delete id="delete" parameterType="java.lang.Integer">
    delete from video_picture where id=#{id}
  </delete>


  <delete id="deleteMore" parameterType="list">
    delete from video_picture
    <where>
    <foreach collection="list" open="id in("  close=")" item="id" separator=",">
      #{id}
    </foreach>
    </where>
  </delete>


</mapper>